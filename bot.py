import logging
import os
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.constants import ParseMode
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ConversationHandler, ContextTypes
from dotenv import load_dotenv
import asyncio

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–∫–µ–Ω–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()
BOT_TOKEN = os.getenv("BOT_TOKEN")

# –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
MAIN_MENU, BANK_SELECTION, CARD_TYPE_SELECTION, CARD_SELECTION, ALL_CARDS_VIEW = range(5)

# –î–∞–Ω–Ω—ã–µ –æ –±–∞–Ω–∫–∞—Ö –∏ –∫–∞—Ä—Ç–∞—Ö
banks = {
    "–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ 180 –¥–Ω–µ–π": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 180 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∫–∏ –∏ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 600 000 —Ä—É–±–ª–µ–π",
                    "–ö—ç—à–±—ç–∫ –¥–æ 10% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 11,9% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 199 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∫–∞—Ä—Ç—ã"
                ],
                "ref_link": "https://example.com/gazprombank_180"
            },
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ 180 –¥–Ω–µ–π (–¥–ª—è –±–ª–æ–≥–µ—Ä–æ–≤ –∏ —Å–æ—Ü. —Å–µ—Ç–µ–π)": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 180 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∫–∏ –∏ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 600 000 —Ä—É–±–ª–µ–π",
                    "–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π –∫—ç—à–±—ç–∫ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –∏ –±–ª–æ–≥–∏–Ω–≥–µ",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 11,9% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 199 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –±–æ–Ω—É—Å—ã –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ—Ü—Å–µ—Ç–µ–π"
                ],
                "ref_link": "https://example.com/gazprombank_bloggers"
            }
        },
        "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ü—Ä–µ–º–∏—É–º –ú–ò–† Supreme": {
                "age_limit": 18,
                "advantages": [
                    "1,5% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 20% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 5% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫–∞",
                    "–î–æ 100 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 100 000 —Ä—É–±–ª–µ–π –∏–ª–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 30 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 199 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –≤—ã–≥–æ–¥–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
                ],
                "ref_link": "https://example.com/gazprombank_premium_supreme"
            },
            "–î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ ¬´–ú–∏—Ä¬ª": {
                "age_limit": 18,
                "advantages": [
                    "1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 15% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 4% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫–∞",
                    "–î–æ 50 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 99 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –≤—ã–≥–æ–¥–Ω—ã–º –∫—ç—à–±—ç–∫–æ–º"
                ],
                "ref_link": "https://example.com/gazprombank_mir"
            }
        }
    },
    "–ë–∞–Ω–∫ –ó–µ–Ω–∏—Ç": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –∫–µ—à–±—ç–∫–æ–º": {
                "age_limit": 18,
                "advantages": [
                    "–ö—ç—à–±—ç–∫ 1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "5% –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö",
                    "–î–æ 100 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 500 000 —Ä—É–±–ª–µ–π",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 12,5% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 10 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 149 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ë—ã—Å—Ç—Ä–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ —É–¥–æ–±–Ω–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
                ],
                "ref_link": "https://example.com/zenit_cashback"
            }
        }
    },
    "–¢-–ë–∞–Ω–∫": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö–∞—Ä—Ç–∞ –ü–ª–∞—Ç–∏–Ω—É–º": {
                "age_limit": 18,
                "advantages": [
                    "–ö—ç—à–±—ç–∫ 1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 30% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 55 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 700 000 —Ä—É–±–ª–µ–π",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 12% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 3 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 99 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∫–∞—Ä—Ç—ã"
                ],
                "ref_link": "https://example.com/tbank_platinum"
            },
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ All Games": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 5% –∫—ç—à–±—ç–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫–∏ –∏–≥—Ä –∏ –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤",
                    "–î–æ 55 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 700 000 —Ä—É–±–ª–µ–π",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 12% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 3 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 99 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –≥–µ–π–º–µ—Ä–æ–≤ –∏ –±–æ–Ω—É—Å—ã –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏–≥—Ä–∞—Ö"
                ],
                "ref_link": "https://example.com/tbank_allgames"
            }
        },
        "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã": {
            "Black": {
                "age_limit": 18,
                "advantages": [
                    "1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 15% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 3% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å–≤—ã—à–µ 10 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¢-–ë–∞–Ω–∫–∞",
                    "–î–æ 50 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –∏–ª–∏ —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 10 000 —Ä—É–±–ª–µ–π, –∏–Ω–∞—á–µ ‚Äî 149 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–°—Ç–∏–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –≤—ã–≥–æ–¥–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"
                ],
                "ref_link": "https://example.com/tbank_black"
            },
            "Premium": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 30% –ø–æ —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤",
                    "–î–æ 15% –∑–∞ –±–∏–ª–µ—Ç—ã –≤ –∫–∏–Ω–æ, —Ç–µ–∞—Ç—Ä—ã, –Ω–∞ –∫–æ–Ω—Ü–µ—Ä—Ç—ã –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –≤ –¢‚Äë–ì–æ—Ä–æ–¥–µ",
                    "–î–æ 10% –∑–∞ –æ—Ç–µ–ª–∏ –∏ –∞–≤–∏–∞–±–∏–ª–µ—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¢‚Äë–ë–∞–Ω–∫–∞",
                    "–î–æ 5% –∑–∞ –ø–æ–∫—É–ø–∫—É –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¢‚Äë–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è",
                    "–î–æ 17% –≥–æ–¥–æ–≤—ã—Ö –ø–æ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ–º—É —Å—á–µ—Ç—É —Å –ø–æ–¥–ø–∏—Å–∫–æ–π Pro",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –æ—Ç 3 000 –¥–æ 100 000 —Ä—É–±–ª–µ–π –≤ –ª—é–±—ã—Ö –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ –Ω–∞ –∫–∞—Ä—Ç—Å—á–µ—Ç–∞—Ö, –≤–∫–ª–∞–¥–∞—Ö, –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—á–µ—Ç–∞—Ö –∏ –≤ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Ö –æ—Ç 50 000 —Ä—É–±–ª–µ–π, –∏–Ω–∞—á–µ ‚Äî 99 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –¥–ª—è –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤"
                ],
                "ref_link": "https://example.com/tbank_premium"
            }
        }
    },
        "–°–±–µ—Ä–ë–∞–Ω–∫": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 50 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 600 000 —Ä—É–±–ª–µ–π",
                    "–°–ø–∞—Å–∏–±–æ –æ—Ç –°–±–µ—Ä–±–∞–Ω–∫–∞: –¥–æ 30% –±–æ–Ω—É—Å–∞–º–∏ —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 11,9% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–û—Ç 0 –¥–æ 750 —Ä—É–±–ª–µ–π –≤ –≥–æ–¥, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã",
                    "–®–∏—Ä–æ–∫–∞—è —Å–µ—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ –±–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞"
                ],
                "ref_link": "https://example.com/sber_credit"
            }
        },
        "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã": {
            "–°–±–µ—Ä–ö–∞—Ä—Ç–∞ –ú–ò–†": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 10% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤",
                    "–î–æ 1,5% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 6% –ø—Ä–∏ –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 50 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –°–±–µ—Ä–±–∞–Ω–∫–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 150 —Ä—É–±–ª–µ–π",
                    "–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –°–±–µ—Ä–±–∞–Ω–∫–∞ —Å —É–¥–æ–±–Ω–æ–π –±–æ–Ω—É—Å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π"
                ],
                "ref_link": "https://example.com/sber_debit"
            }
        }
    },
    "–£—Ä–∞–ª—Å–∏–± –ë–∞–Ω–∫": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ ¬´120 –¥–Ω–µ–π¬ª": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 120 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∫–∏ –∏ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 1 000 000 —Ä—É–±–ª–µ–π",
                    "–î–æ 1,5% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 13,9% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 199 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π –ª—å–≥–æ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥"
                ],
                "ref_link": "https://example.com/uralsib_120"
            }
        },
        "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ü—Ä–∏–±—ã–ª—å": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 10% –Ω–∞ –ª—é–±–∏–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
                    "1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 6% –≥–æ–¥–æ–≤—ã—Ö",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –ª—é–±—ã—Ö –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –ø—Ä–∏ —Å–Ω—è—Ç–∏–∏ –æ—Ç 3 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 10 000 —Ä—É–±–ª–µ–π, –∏–Ω–∞—á–µ ‚Äî 99 —Ä—É–±–ª–µ–π",
                    "–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –≤—ã—Å–æ–∫–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å—é –∏ —Ö–æ—Ä–æ—à–∏–º –∫—ç—à–±—ç–∫–æ–º"
                ],
                "ref_link": "https://example.com/uralsib_profit"
            }
        }
    },
    "–°–æ–≤–∫–æ–º–±–∞–Ω–∫": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö–∞—Ä—Ç–∞ ¬´–•–∞–ª–≤–∞¬ª": {
                "age_limit": 18,
                "advantages": [
                    "–ë–µ—Å–ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Ä–∞—Å—Å—Ä–æ—á–∫–∞ –¥–æ 12 –º–µ—Å—è—Ü–µ–≤ —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 6% –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤",
                    "–î–æ 108 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 350 000 —Ä—É–±–ª–µ–π",
                    "0% –ø—Ä–∏ –ø–æ–∫—É–ø–∫–∞—Ö –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ"
                ],
                "ref_link": "https://example.com/sovcombank_halva"
            }
        }
    },
    "–ê–∫ –ë–∞—Ä—Å": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ 115 –¥–Ω–µ–π": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 115 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 600 000 —Ä—É–±–ª–µ–π"
                ],
                "ref_link": "https://example.com/akbars_115"
            }
        }
    },
    "–ê–¢–ë": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ ¬´–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è¬ª": {
                "age_limit": 18,
                "advantages": [
                    "–ö—ç—à–±—ç–∫ 1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 10% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 50 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 500 000 —Ä—É–±–ª–µ–π",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 13,9% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 99 —Ä—É–±–ª–µ–π",
                    "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –≤—ã–≥–æ–¥–Ω—ã–º –∫—ç—à–±—ç–∫–æ–º –∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º –ª—å–≥–æ—Ç–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º"
                ],
                "ref_link": "https://example.com/atb_universal"
            }
        }
    },
    "–í–¢–ë": {
        "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞": {
                "age_limit": 18,
                "advantages": [
                    "–ö—ç—à–±—ç–∫ 1,5% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 10% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 110 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤",
                    "–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç: –¥–æ 1 000 000 —Ä—É–±–ª–µ–π",
                    "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –æ—Ç 14,6% –≥–æ–¥–æ–≤—ã—Ö –ø–æ—Å–ª–µ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–Ω–∞—á–µ ‚Äî 249 —Ä—É–±–ª–µ–π",
                    "–ò–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ü–µ–Ω–∏—Ç –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π –ª—å–≥–æ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏ –≤—ã—Å–æ–∫–∏–π –∫—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç"
                ],
                "ref_link": "https://example.com/vtb_credit"
            }
        },
        "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ú–ò–†": {
                "age_limit": 18,
                "advantages": [
                    "1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 10% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 5% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å–≤—ã—à–µ 15 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –í–¢–ë",
                    "–î–æ 50 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –∏–ª–∏ —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 15 000 —Ä—É–±–ª–µ–π, –∏–Ω–∞—á–µ ‚Äî 249 —Ä—É–±–ª–µ–π",
                    "–£–¥–æ–±–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –≤—ã–≥–æ–¥–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤"
                ],
                "ref_link": "https://example.com/vtb_mir"
            },
            "–ü–ª–∞—Ç—ë–∂–Ω—ã–π —Å—Ç–∏–∫–µ—Ä": {
                "age_limit": 18,
                "advantages": [
                    "1% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 10% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 5% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å–≤—ã—à–µ 15 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –í–¢–ë",
                    "–î–æ 50 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –∏–ª–∏ —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 15 000 —Ä—É–±–ª–µ–π, –∏–Ω–∞—á–µ ‚Äî 249 —Ä—É–±–ª–µ–π",
                    "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –±–µ—Å–∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π —Å –≤—ã–≥–æ–¥–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏"
                ],
                "ref_link": "https://example.com/vtb_sticker"
            }
        }
    },
    "–û–¢–ü –ë–∞–Ω–∫": {
        "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã": {
            "Premium Light": {
                "age_limit": 18,
                "advantages": [
                    "1,5% –Ω–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 20% —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –±–∞–Ω–∫–∞",
                    "–î–æ 4% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å–≤—ã—à–µ 10 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –û–¢–ü –ë–∞–Ω–∫–∞",
                    "–î–æ 100 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 10 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü –∏–ª–∏ —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 30 000 —Ä—É–±–ª–µ–π, –∏–Ω–∞—á–µ ‚Äî 199 —Ä—É–±–ª–µ–π",
                    "–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
                ],
                "ref_link": "https://example.com/otp_premium_light"
            }
        }
    },
        "–§–û–†–ê-–ë–ê–ù–ö": {
        "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã": {
            "–ú–ò–† ¬´–í—Å–µ –≤–∫–ª—é—á–µ–Ω–æ¬ª": {
                "age_limit": 18,
                "advantages": [
                    "–î–æ 5% –Ω–∞ –ø–æ–∫—É–ø–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö ¬´–ü—Ä–æ–¥—É–∫—Ç—ã¬ª, ¬´–ê–ø—Ç–µ–∫–∏¬ª, ¬´–ê–ó–°¬ª",
                    "1% –Ω–∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏",
                    "–î–æ 6% –≥–æ–¥–æ–≤—ã—Ö –ø—Ä–∏ –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 10 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –ª—é–±—ã—Ö –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –†–æ—Å—Å–∏–∏ –æ—Ç 3 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –°–ë–ü –¥–æ 100 000 —Ä—É–±–ª–µ–π",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤",
                    "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö —Ç—Ä–∞—Ç–∞—Ö –æ—Ç 5 000 —Ä—É–±–ª–µ–π, –∏–Ω–∞—á–µ ‚Äî 99 —Ä—É–±–ª–µ–π",
                    "–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≤—ã—Å–æ–∫–∏–π –∫—ç—à–±—ç–∫ –Ω–∞ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏"
                ],
                "ref_link": "https://example.com/fora_all_inclusive"
            }
        }
    }
}

# –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
def build_keyboard(buttons):
    return InlineKeyboardMarkup([[InlineKeyboardButton(text, callback_data=data)] for text, data in buttons])

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    keyboard = [
        [InlineKeyboardButton("üéÇ 14-17 –ª–µ—Ç", callback_data="age_14_17")],
        [InlineKeyboardButton("üéÇ 18+ –ª–µ—Ç", callback_data="age_18_plus")]
    ]
    await update.message.reply_text(
        "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</b>\n\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –≤–æ–∑—Ä–∞—Å—Ç–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é:",
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode=ParseMode.HTML
    )
    return MAIN_MENU

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞
async def handle_age(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    age_group = query.data
    context.user_data["age"] = 14 if age_group == "age_14_17" else 18

    return await show_bank_selection(query)

# –ü–æ–∫–∞–∑ —Å–ø–∏—Å–∫–∞ –±–∞–Ω–∫–æ–≤
async def show_bank_selection(query) -> int:
    await query.answer()
    keyboard = [
        [InlineKeyboardButton(bank, callback_data=f"bank_{bank}")] for bank in banks
    ] + [
        [InlineKeyboardButton("üìã –í—Å–µ –∫–∞—Ä—Ç—ã", callback_data="show_all_cards")],
        [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ]
    await query.edit_message_text(
        "üè¶ <b>–í—ã–±–µ—Ä–∏—Ç–µ –±–∞–Ω–∫:</b>",
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode=ParseMode.HTML
    )
    return BANK_SELECTION

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –±–∞–Ω–∫–∞
async def handle_bank_selection(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    if query.data == "show_all_cards":
        return await show_all_cards_view(query)

    if query.data == "main_menu":
        return await return_to_main_menu(query)

    bank_name = query.data.split("_", 1)[1]
    context.user_data["current_bank"] = bank_name

    return await show_card_type_selection(query)

# –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã
async def show_card_type_selection(query) -> int:
    await query.answer()
    keyboard = [
        [InlineKeyboardButton("–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã", callback_data="credit_cards")],
        [InlineKeyboardButton("–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã", callback_data="debit_cards")],
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥", callback_data="back_to_banks")],
        [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ]
    await query.edit_message_text(
        "üí≥ <b>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–∞—Ä—Ç—ã:</b>",
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode=ParseMode.HTML
    )
    return CARD_TYPE_SELECTION

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã
async def handle_card_type_selection(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    if query.data == "back_to_banks":
        return await show_bank_selection(query)

    if query.data == "main_menu":
        return await return_to_main_menu(query)

    card_type = query.data
    context.user_data["card_type"] = "–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã" if card_type == "credit_cards" else "–î–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã"

    return await show_card_selection(query, context.user_data["current_bank"])

# –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∫–∞–∑ —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –±–∞–Ω–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã
async def show_card_selection(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    cards = banks[context.user_data["current_bank"]][context.user_data["card_type"]]
    filtered_cards = {k: v for k, v in cards.items()}

    keyboard = [
        [InlineKeyboardButton(card, callback_data=f"card_{card}")] for card in filtered_cards
    ] + [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥", callback_data="back_to_card_type")],
        [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ]
    await query.edit_message_text(
        f"üè¶ <b>{context.user_data['current_bank']}</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É:",
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode=ParseMode.HTML
    )
    return CARD_SELECTION

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –∫–∞—Ä—Ç—ã
async def handle_card_selection(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    if "current_bank" not in context.user_data or "card_type" not in context.user_data:
        return await return_to_main_menu(query)

    card_name = query.data.split("_", 1)[1]
    bank_name = context.user_data["current_bank"]
    card_info = banks[bank_name][context.user_data["card_type"]][card_name]

    text = f"üè¶ <b>{bank_name}</b> - <b>{card_name}</b>\n\n"
    text += "üî• <b>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</b>\n" + "\n".join(f"‚Ä¢ {adv}" for adv in card_info["advantages"])
    text += f"\n\nüîó <a href='{card_info['ref_link']}'>–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç—É</a>"

    keyboard = [
        [InlineKeyboardButton("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", callback_data="back_to_cards")],
        [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ]

    await query.edit_message_text(
        text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode=ParseMode.HTML
    )
    return CARD_SELECTION

# –ü–æ–∫–∞–∑ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ä—Ç
async def show_all_cards_view(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    text = "üìã <b>–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ä—Ç—ã:</b>\n\n"
    for bank, types in banks.items():
        text += f"üè¶ <b>{bank}</b>:\n"
        for card_type, cards in types.items():
            text += f"  <b>{card_type}:</b>\n"
            for card, info in cards.items():
                text += f"    ‚Ä¢ {card} ({info['age_limit']}+)\n"

    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥", callback_data="back_to_banks")],
        [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ]

    await query.edit_message_text(
        text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode=ParseMode.HTML
    )
    return ALL_CARDS_VIEW

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
async def handle_navigation(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    if "current_bank" not in context.user_data:
        return await return_to_main_menu(query)

    if query.data == "main_menu":
        return await return_to_main_menu(query)

    if query.data == "back_to_banks":
        return await show_bank_selection(query)

    if query.data == "back_to_card_type":
        return await show_card_type_selection(query)

    if query.data == "back_to_cards":
        return await show_card_selection(query, context.user_data["current_bank"])

# –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
async def return_to_main_menu(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()

    keyboard = [
        [InlineKeyboardButton("üéÇ 14-17 –ª–µ—Ç", callback_data="age_14_17")],
        [InlineKeyboardButton("üéÇ 18+ –ª–µ—Ç", callback_data="age_18_plus")]
    ]
    await query.edit_message_text(
        "üè† <b>–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é!</b>",
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode=ParseMode.HTML
    )
    return MAIN_MENU

# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
async def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    await update.message.reply_text("üö´ –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞")
    return ConversationHandler.END

# –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
def main() -> None:
    application = Application.builder().token(BOT_TOKEN).build()

    async def startup_actions(app: Application):
        await app.bot.delete_webhook()
        logger.info("Webhook —É–¥–∞–ª–µ–Ω")

    async def shutdown_actions(app: Application):
        await app.shutdown()
        logger.info("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ")

    # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    application.initialize()
    asyncio.get_event_loop().run_until_complete(startup_actions(application))

    conv_handler = ConversationHandler(
        entry_points=[CommandHandler("start", start)],
        states={
            MAIN_MENU: [
                CallbackQueryHandler(handle_age)
            ],
            BANK_SELECTION: [
                CallbackQueryHandler(handle_bank_selection),
                CallbackQueryHandler(return_to_main_menu, pattern="^main_menu$")
            ],
            CARD_TYPE_SELECTION: [
                CallbackQueryHandler(handle_card_type_selection),
                CallbackQueryHandler(return_to_main_menu, pattern="^main_menu$")
            ],
            CARD_SELECTION: [
                CallbackQueryHandler(handle_card_selection),
                CallbackQueryHandler(handle_navigation, pattern="^main_menu$")
            ],
            ALL_CARDS_VIEW: [
                CallbackQueryHandler(handle_navigation, pattern="^main_menu$")
            ]
        },
        fallbacks=[CommandHandler("cancel", cancel)],
        allow_reentry=True
    )

    application.add_handler(conv_handler)
    application.run_polling()

if __name__ == "__main__":
    main()
